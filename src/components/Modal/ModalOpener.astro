---
type Props = {
  mediaId: number;
};

const { mediaId } = Astro.props as Props;
---

<modal-opener class="image__modal-opener" data-modal="#ImageModal-Article">
  <span class="image__media-icon">
    <svg
      aria-hidden="true"
      focusable="false"
      class="icon icon-plus"
      width="19"
      height="19"
      viewBox="0 0 19 19"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M4.66724 7.93978C4.66655 7.66364 4.88984 7.43922 5.16598 7.43853L10.6996 7.42464C10.9758 7.42395 11.2002 7.64724 11.2009 7.92339C11.2016 8.19953 10.9783 8.42395 10.7021 8.42464L5.16849 8.43852C4.89235 8.43922 4.66793 8.21592 4.66724 7.93978Z"
        fill="currentColor"></path>
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M7.92576 4.66463C8.2019 4.66394 8.42632 4.88723 8.42702 5.16337L8.4409 10.697C8.44159 10.9732 8.2183 11.1976 7.94215 11.1983C7.66601 11.199 7.44159 10.9757 7.4409 10.6995L7.42702 5.16588C7.42633 4.88974 7.64962 4.66532 7.92576 4.66463Z"
        fill="currentColor"></path>
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M12.8324 3.03011C10.1255 0.323296 5.73693 0.323296 3.03011 3.03011C0.323296 5.73693 0.323296 10.1256 3.03011 12.8324C5.73693 15.5392 10.1255 15.5392 12.8324 12.8324C15.5392 10.1256 15.5392 5.73693 12.8324 3.03011ZM2.32301 2.32301C5.42035 -0.774336 10.4421 -0.774336 13.5395 2.32301C16.6101 5.39361 16.6366 10.3556 13.619 13.4588L18.2473 18.0871C18.4426 18.2824 18.4426 18.599 18.2473 18.7943C18.0521 18.9895 17.7355 18.9895 17.5402 18.7943L12.8778 14.1318C9.76383 16.6223 5.20839 16.4249 2.32301 13.5395C-0.774335 10.4421 -0.774335 5.42035 2.32301 2.32301Z"
        fill="currentColor"></path>
    </svg>
  </span>
  <button
    class="image__media-toggle"
    type="button"
    tabindex="-1"
    data-media-id={mediaId}
  >
  </button>
</modal-opener>

<style>
  /* modal-opener class="image__modal-opener" */

  /* span class="image__media-icon" */
  .image__media-icon {
    background-color: rgb(var(--color-background));
    border-radius: 50%;
    border: 1px solid rgba(var(--color-foreground), 0.1);
    color: rgb(var(--color-foreground));
    display: flex;
    align-items: center;
    justify-content: center;
    height: 1.875rem;
    width: 1.875rem;
    position: absolute;
    left: 0.75rem;
    top: 0.75rem;
    z-index: 1;
    transition: color 0.1s ease, opacity 0.1s ease;
  }

  @media screen and (min-width: 990px) {
    .image__modal-opener .image__media-icon {
      opacity: 0;
    }
    .image__modal-opener:hover .image__media-icon,
    .image__modal-opener:focus .image__media-icon {
      opacity: 1;
    }
  }

  /* svg class="icon icon-plus" */
  .image__media-icon .icon {
    width: 0.75rem;
    height: 0.875rem;
  }
  /* button class="product__media-toggle" */
  .image__media-toggle {
    display: flex;
    border: none;
    background-color: transparent;
    color: currentColor;
    padding: 0;
  }
  /* ::after */
  .image__media-toggle::after {
    content: "";
    display: block;
    position: absolute;
    inset: 0;
    cursor: pointer;
    z-index: 2;
  }
</style>

<script>
  import "@scripts/modal-opener.ts";
</script>
