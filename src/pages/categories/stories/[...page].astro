---
import MainLayout from "../../../layouts/MainLayout.astro";
import CategoryHeader from "../../../components/Categories/CategoryHeader.astro";
import CategoryBody from "../../../components/Categories/CategoryBody.astro";
import Pagination from "../../../components/Pagination.astro";
import {
  generateGetStaticPathsAsyncFunction,
  generateCategoryPageProps,
} from "../../../script/categories";

export const getStaticPaths = generateGetStaticPathsAsyncFunction("Stories");

const {
  page,
  url: { prev, next },
  currentPage,
  lastPage,
  metaData,
  path,
} = generateCategoryPageProps({ categorySlug: "stories", props: Astro.props });
---

<MainLayout title={metaData.title} description={metaData.description}>
  <section class="comp taxonomysc mntl-taxonomysc">
    <CategoryHeader
      title="Stories"
      image="/images/stories-banner.webp"
      description={metaData.description}
    />

    <CategoryBody posts={page?.data} />
    <Pagination {prev} {next} {currentPage} {lastPage} {path} />
  </section>
</MainLayout>

<style>
  /* section class="comp taxonomysc mntl-taxonomysc" */
  .taxonomysc {
    padding: 0;
  }
</style>
